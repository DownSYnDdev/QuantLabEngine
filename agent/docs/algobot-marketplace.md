Algobot Marketplace
Version: 1.0.0
Scope: Defines how algorithmic trading bots are registered, listed, authenticated, and executed within the QuantLab ecosystem.
This marketplace is tenant‑aware, webhook‑driven, and fully decoupled from trading logic.
The marketplace provides:
- Bot registration
- Bot metadata storage
- Webhook execution integration
- Rate‑limit enforcement
- Security + authentication
- Event‑driven audit logging

1. Marketplace Overview
The Algobot Marketplace is a lightweight registry that allows:
- Prop‑firm tenants to register bots
- Bots to receive authenticated webhook signals
- QuantLab to validate and execute signals
- Audit logs to track all bot activity
Bots do not run inside QuantLab.
They live externally and communicate via webhooks.

2. Bot Registration
Bots must be registered before they can send webhook signals.
Endpoint
POST /api/v1/tenants/{tenantId}/bots/register


Request Body
{
  "botId": "my-eurusd-bot",
  "webhookUrl": "https://example.com/webhook",
  "description": "EURUSD breakout strategy",
  "tags": ["forex", "breakout", "eurusd"]
}


Validation Rules
|  |  | 
| botId |  | 
|  |  | 
|  |  | 
|  |  | 


Response
{
  "botId": "my-eurusd-bot",
  "status": "registered"
}


Event Emitted
- bot.registered (optional — only if you want to track bot lifecycle)

3. Bot Metadata Schema
Stored under:
/marketplace/{tenantId}/bots/{botId}.json


Schema
{
  "botId": "string",
  "tenantId": "string",
  "webhookUrl": "string",
  "description": "string",
  "tags": ["string"],
  "createdAt": "2026-01-30T12:00:00Z"
}



4. Webhook Signal Flow
Bots communicate with QuantLab using authenticated webhook signals.
Flow
- Bot sends POST request to QuantLab webhook endpoint
- QuantLab verifies HMAC signature
- QuantLab validates payload schema
- QuantLab checks rule‑engine constraints
- QuantLab executes simulated trade
- QuantLab emits events
- Audit log records everything

5. Webhook Payload Schema
Endpoint
POST /webhooks/{tenantId}/{botId}


Headers
|  |  | 
| X-Bot-ID |  | 
| X-Timestamp |  | 
| X-Signature |  | 


Payload
{
  "accountId": "25k-eval-v1",
  "symbol": "EURUSD",
  "side": "buy",
  "size": 1.0,
  "price": 1.0842,
  "signalId": "sig_123"
}


Validation Rules
- symbol must be allowed by account config
- size must be > 0
- accountId must belong to tenant
- Signature must match tenant’s webhook secret

6. Webhook Execution Pipeline
QuantLab processes webhook signals through a structured pipeline:
6.1 webhook.received
- Raw payload stored
- IP logged
- Event emitted
6.2 webhook.validated
- Signature verified
- Payload schema validated
- Bot metadata loaded
- Event emitted
6.3 Rule‑Engine Checks
- Instrument allowed
- Daily loss
- Max loss
- Drawdown
- Consistency rules
If any rule fails → webhook.rejected event.
6.4 webhook.trade_executed
- Simulated trade executed
- Account state updated
- Audit log entry written

7. Rate Limits
Rate limits are tenant‑scoped and bot‑scoped.
Defaults
|  |  | 
|  |  | 
|  |  | 
|  |  | 


If exceeded → 429 Too Many Requests.

8. Security Model
8.1 HMAC Authentication
All webhook signals must include:
- X-Timestamp
- X-Signature
Signature formula:
HMAC_SHA256(tenantWebhookSecret, timestamp + body)


8.2 Replay Protection
- Reject timestamps older than 60 seconds
- Reject duplicate signalId
8.3 Tenant Isolation
Bots cannot send signals to accounts outside their tenant.

9. Marketplace Listing API (Optional)
If the prop‑firm wants a public bot marketplace:
GET /bots
Returns all bots for a tenant.
Response
{
  "bots": [
    {
      "botId": "my-eurusd-bot",
      "description": "EURUSD breakout strategy",
      "tags": ["forex", "breakout"]
    }
  ]
}



10. Events Generated by Marketplace
|  |  | 
| bot.registered |  | 
| webhook.received |  | 
| webhook.validated |  | 
| webhook.rejected |  | 
| webhook.trade_executed |  | 


All events follow the shared envelope defined in event-contracts.md.

11. Changelog
1.0.0 — Initial release covering:
- Bot registration
- Metadata schema
- Webhook payloads
- Execution pipeline
- Rate limits
- Security model
- Event integration
